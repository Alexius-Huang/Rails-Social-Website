<div class="gap-small"></div>

<div class="row">
	<div class="col-md-offset-1 col-md-10">
		<h3><%= icon "apple" %> My Articles</h3>
	</div>
</div>

<hr class="col-md-offset-1 col-md-10">

<!-- Article Topics' Tags -->

<div class="row">
	<div class="col-md-offset-1 col-md-10">
		<h4><%= icon "list" %> Article Categories</h4>
		<!-- Render Topics -->
		<span class="tag-like tag-link tag-like-green">
			<%= link_to icon("eye-open") + " Browse All Articles", topics_path %>
		</span>

		<%= render @topics %>
		<div style="display: inline-block;"><div id="topic-append" style="display: none;"></div></div>

		<span class="tag-like tag-like-yellow tag-link">
			<%= link_to icon("plus") + " Add New Article Category", "#", :id => "new-topic-ajax-link" %>
		</span>
	</div>
</div>

<!-- New Topic AJAX Form -->
<div id="new-topic-ajax-section">
	<div class="row">
		<div class="col-md-offset-1 col-md-4">
			<%= simple_form_for @topic, remote: true do |f| %>
				<div class="form-group">
					<%= f.input :title, placeholder: "New Article Category's Title", input_html: { :class => "topic-form-control" } %>
				</div>
				<div class="form-action">
					<%= f.submit "Submit", data: { disable_with: "Submitting..." }, :class => "submit-btn" %>
				</div>
			<% end %>
		</div>
	</div>
</div>

<hr class="col-md-offset-1 col-md-10">

<!-- Latest Articles -->
<div class="row">
	<div class="col-md-offset-1 col-md-10">
		<h4><%= icon "file" %> Latest Articles</h4>
		<div class="row" id="latest-article">
			<% unless @articles.empty? %>
				<% @articles.each do |article| %>
					<div class="col-md-4 article-column">
						<div class="panel-heading"><h2><%= article.title %></h2></div>
						<div class="panel-body"><%= truncate(article.content, length: 500) %></div>
						<div class="panel-body">
							<%= link_to icon("remove") + "Remove", topic_article_path(article.topic, article), method: :delete, :class => "pull-right remove-btn" %>
							<%= link_to icon("pencil") + " Edit", edit_topic_article_path(article.topic, article), :class => "pull-right edit-btn" %>
							<%= link_to icon("eye-open") + " Read More", topic_article_path(article.topic, article), :class => "pull-right read-btn" %>
						</div>
					</div>
				<% end %>
			<% else %>
				<div class="col-md-12" style="text-align: center;">
					<h4>Currently there are no articles : (</h4>
				</div>
			<% end %>
		</div>
	</div>
</div>

<div class="gap-large"></div>